{% extends "base.html" %}
{% load static %}

{% block extra_head %}

<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "ContactPage",
  "name": "{{ seo_title|escapejs }}",
  "description": "{{ seo_description|escapejs }}",
  "url": "{{ canonical_url|default:request.build_absolute_uri }}",
  "contactType": "Employment/Collaboration",
  "publisher": {
    "@type": "Organization",
    "name": "abbaslotfinasab.ir",
    "logo": {
      "@type": "ImageObject",
      "url": "{% static 'images/logo.png' %}"
    }
  }
}
</script>

{% endblock %}


{% block content %}

<section class="collab-hero py-5">
    <div class="container">
        <div class="row align-items-center g-4">
            <div class="col-lg-7 bg-white">
                 <h3 class="section-title fw-bold mb-2">ุฏุฑ ุตูุฑุช ฺฉู ูุงุฒ ุจู ุชูุณุนูโุฏููุฏูโุง ุจุฑุง ุชููุช ุชู ูู ุฏุงุฑุฏ ุง ุจู
                ุฏูุจุงู ุจุฑููโุณูพุงุฑ ูพุฑูฺูโุง ูุณุชุฏุ ุฎูุดุญุงู ูโุดูู ููฺฉุงุฑ ูุคุซุฑ ุจุง ุดูุง ุฏุงุดุชู ุจุงุดู</h3>
                <p class="section-subtitle mb-4 ">ุฒูุงู ูพุงุณุฎโุฏู ุจู ูุฑูโูุง: ุญุฏุงฺฉุซุฑ ฒด ุณุงุนุช ฺฉุงุฑ.</p>

                <div class="d-flex flex-wrap gap-2">
                    <a href="#project-form" class="btn btn-primary btn-lg rounded-3 px-4">ุจุฑููโุณูพุงุฑ ูพุฑูฺู</a>
                    <a href="#hire-form" class="btn btn-outline-primary btn-lg rounded-3 px-4">ุฏุฑุฎูุงุณุช ููฺฉุงุฑ</a>
                </div>
            </div>
            <div class="col-lg-5">
                <div class="hero-card why-card p-4 p-md-5 rounded-4 shadow-sm bg-white border">
                    <ul class="list-unstyled small m-0">
                        <li class="d-flex align-items-center mb-3"><i
                                class="fa-regular fa-circle-check ms-2 text-primary"></i> ฺฉ ููุฑุ ฺุฑุฎูู ฺฉุงูู: ููุจุงูุ
                            ูุฑุงูุช ู ุจฺฉ
                        </li>
                        <li class="d-flex align-items-center mb-3"><i
                                class="fa-regular fa-circle-check ms-2 text-primary"></i> ฺฉุฏ ุชูุฒุ ูุนูุงุฑ ูุงุจูโูฺฏูุฏุงุฑุ
                            ุชุญูู ูุฑุญููโุง
                        </li>
                        <li class="d-flex align-items-center"><i
                                class="fa-regular fa-circle-check ms-2 text-primary"></i> ุชูุฑฺฉุฒ ุชุง ุญู ูุณุฆููโุจูโุฎุตูุต
                            ฺุงูุดโูุง ุณุฎุช
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</section>


<!-- ฺุฑุง ุจุง ูู -->
<section class="collab-hero py-5">
    <div class="container">
        <div class="text-center mb-4">
            <h2 class="section-title section-heading">ฺุฑุง ุจุง ููุ</h2>
            <p class="section-subtitle text-muted">ุชุฑฺฉุจ ุงุฒ ุชุฌุฑุจูุ ุณุฑุนุช ู ููุงููฺฏู ูู.</p>
        </div>
        <div class="row g-4">
            <div class="col-12 col-md-4">
                <div class="why-card text-center p-4 rounded-4 shadow-sm bg-white border h-100">
                    <i class="fa-solid fa-layer-group display-6 mb-3 text-primary"></i>
                    <h3 class="h6 fw-bold mb-2">ฺฉโููุฑู ุงูุง ฺฉูพุงุฑฺู</h3>
                    <p class="text-muted small m-0">ููุจุงูุ ูุฑุงูุช ู ุจฺฉ ุฏุฑ ฺฉ ูุณุฑ ููุงููฺฏุ ุงุชูุงู ฺฉูุชุฑุ ุณุฑุนุช ุจุดุชุฑ.</p>
                </div>
            </div>
            <div class="col-12 col-md-4">
                <div class="why-card text-center p-4 rounded-4 shadow-sm bg-white border h-100">
                    <i class="fa-solid fa-gauge-high display-6 mb-3 text-primary"></i>
                    <h3 class="h6 fw-bold mb-2">ฺฉูุช ูุงุจู ุงุชฺฉุง</h3>
                    <p class="text-muted small m-0">ฺฉุฏ ุชูุฒุ ุชุณุชโูพุฐุฑ ู ูุณุชูุฏุ ุชุญููโูุง ูุฑุญููโุง ู ูุงุจู ุฏูู.</p>
                </div>
            </div>
            <div class="col-12 col-md-4">
                <div class="why-card text-center p-4 rounded-4 shadow-sm bg-white border h-100">
                    <i class="fa-solid fa-screwdriver-wrench display-6 mb-3 text-primary"></i>
                    <h3 class="h6 fw-bold mb-2">ุญู ูุณุฆูู ุชุง ุงูุชูุง</h3>
                    <p class="text-muted small m-0">ุฑู ูุณุงุฆู ุณุฎุช ูโูุงูู ุชุง ุญู ุดููุฏุ ูุชุฌูโูุญูุฑ ู ูุณุฆููุชโูพุฐุฑ.</p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- ูุฑุงูุฏ ููฺฉุงุฑ -->
<section class="collab-hero py-5">
    <div class="container">
        <div class="text-center mb-4">
            <h2 class="section-title section-heading">ูุฑุงุญู ููฺฉุงุฑ</h2>
            <p class="section-subtitle text-muted">ูุฑุขูุฏ ููฺฉุงุฑ ุดูุงูุ ุณุฑุน ู ูุชุฌูโูุญูุฑ.</p>

        </div>
        <div class="row g-4">
            <div class="col-md-3">
                <div class="why-card p-4 text-center rounded-4 shadow-sm bg-white border h-100">
                    <div class="step-badge">1</div>
                    <h3 class="h6 fw-bold mb-2">ุฌูุณู ุดูุงุฎุช</h3>
                    <p class="small text-muted m-0">ุงูุฏุงูุ ููุฏุ ุฏุงูููโูุง (ณฐโดต ุฏููู).</p>
                </div>
            </div>
            <div class="col-md-3">
                <div class="why-card p-4 text-center rounded-4 shadow-sm bg-white border h-100">
                    <div class="step-badge">2</div>
                    <h3 class="h6 fw-bold mb-2">ูพุดููุงุฏ ูู/ุฒูุงู</h3>
                    <p class="small text-muted m-0">ูุงุฒุจูุฏุ ูฺฺฏโูุงุ ุฒูุงูโุจูุฏ ู ูุฒูู.</p>
                </div>
            </div>
            <div class="col-md-3">
                <div class="why-card p-4 text-center rounded-4 shadow-sm bg-white border h-100">
                    <div class="step-badge">3</div>
                    <h3 class="h6 fw-bold mb-2">ุดุฑูุน ูุงุฒ ฑ</h3>
                    <p class="small text-muted m-0">ุฑูพูุ CI/CDุ ูุญุท ุชุณุช ู ุงููู ุฏูู.</p>
                </div>
            </div>
            <div class="col-md-3">
                <div class="why-card p-4 text-center rounded-4 shadow-sm bg-white border h-100">
                    <div class="step-badge">4</div>
                    <h3 class="h6 fw-bold mb-2">ุชุญูู ู ูพุงุด</h3>
                    <p class="small text-muted m-0">ุงุณุชูุฑุงุฑุ ูุงูุชูุฑูฺฏุ ุขููุฒุด ู ูฺฏูุฏุงุฑ.</p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- ูุฏูโูุง ููฺฉุงุฑ -->
<section class="collab-hero py-5">
    <div class="container">
        <div class="text-center mb-4">
            <h2 class="section-title section-heading">ูุฏูโูุง ููฺฉุงุฑ</h2>
            <p class="section-subtitle text-muted">ุงูุนุทุงู ุฏุฑ ููฺฉุงุฑ ุจุฑุง ุฑุณุฏู ุจู ุจูุชุฑู ูุชุฌู.</p>

        </div>
        <div class="row g-4">
            <div class="col-md-4">
                <div class="why-card p-4 rounded-4 shadow-sm bg-white border h-100">
                    <h3 class="h6 fw-bold mb-2">ูพุฑูฺู ุซุงุจุช (Fixed)</h3>
                    <p class="text-muted small mb-0">ุจุฑุง ูุญุฏูุฏูโูุง ูุดุฎุต (MVP/ูุจโุณุงุช ุดุฑฺฉุช). ุฎุฑูุฌ ูุงุจู ุงุณุชูุฑุงุฑ ุฏุฑ
                        ูพุงุงู ูุฑ ูุงุฒ.</p>
                </div>
            </div>
            <div class="col-md-4">
                <div class="why-card p-4 rounded-4 shadow-sm bg-white border h-100">
                    <h3 class="h6 fw-bold mb-2">ุณุงุนุช/ูุงูุงูู (T&M/Retainer)</h3>
                    <p class="text-muted small mb-0">ููุงุณุจ ุชูุณุนู ุชุฏุฑุฌุ ูฺฏูุฏุงุฑุ ุง ฺฉูุงุฑ ุชู ูุนู ุดูุง.</p>
                </div>
            </div>
            <div class="col-md-4">
                <div class="why-card p-4 rounded-4 shadow-sm bg-white border h-100">
                    <h3 class="h6 fw-bold mb-2">ุงุณูพุฑูุช ูุดุฑุฏู</h3>
                    <p class="text-muted small mb-0">ุชูุฑฺฉุฒ ฺฉโ ุชุง ุฏู ููุชูโุง ุจุฑ ฺฉ ูุฏู: SEOุ Performanceุ ุง ูฺุฑ
                        ฺฉูุฏ.</p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- FAQ ฺฉูุชุงู -->
<section class="collab-hero py-5">
    <div class="container">
        <div class="text-center mb-4">
            <h2 class="section-title section-heading">ุณูุงูุงุช ูพุฑุชฺฉุฑุงุฑ</h2>
            <p class="section-subtitle text-muted">ุณุคุงูุงุช ฺฉู ูุนูููุง ูุจู ุงุฒ ุดุฑูุน ููฺฉุงุฑ ูุทุฑุญ ูโุดู.</p>

        </div>
        <div class="row g-3">
            <div class="col-md-6">
                <div class="faq-item why-card p-3 rounded-4 bg-white border h-100">
                    <strong>ุงุฒ ฺฉ ูโุชููู ุดุฑูุน ฺฉููุ</strong>
                    <p class="text-muted small m-0">ูุนูููุงู ุญุฏุงฺฉุซุฑ ุชุง ฺฉ ููุชู ูพุณ ุงุฒ ุชูุงููุ ุจุฑุง ูพุฑูฺูโูุง ููุฑ ููุงููฺฏ
                        ูโฺฉูู.</p>
                </div>
            </div>
            <div class="col-md-6">
                <div class="faq-item why-card p-3 rounded-4 bg-white border h-100">
                    <strong>ูุงูฺฉุช ฺฉุฏ ู ุฏุงุฏูโูุง ุจุง ฺฉุณุชุ</strong>
                    <p class="text-muted small m-0">ฑฐฐูช ูุชุนูู ุจู ุดูุงุณุชุ ุฑูพู ุฎุตูุต ุฑู ุณุฑูุฑ ุดูุง ุง GitLab/GitHub.</p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- ูุฑูโูุง -->
<section id="forms" class="collab-hero py-5">
    <div class="container">
        <div class="text-center mb-4">
            <h2 class="section-title section-heading">ูุฑู ููฺฉุงุฑ</h2>
            <p class="section-subtitle text-muted">ุฒูุงู ูพุงุณุฎโุฏู: ุญุฏุงฺฉุซุฑ ฒด ุณุงุนุช ฺฉุงุฑ</p>

        </div>
        <div class="row g-4">
            <!-- ูุฑู ูพุฑูฺู -->
            <div class="col-lg-6">
                <div class="form-card why-card  p-4 rounded-4 shadow-sm bg-white border" id="project-form">
                    <h3 class="h5 fw-bold mb-3" style="color:#003c70">ุซุจุช ุงุทูุงุนุงุช ูพุฑูฺู</h3>
                    <form method="post" action="" novalidate>
                        {% csrf_token %}
                        <div class="row g-3">
                            <div class="col-md-6">
                                <label class="form-label small">ูุงู ุดุฑฺฉุช</label>
                                <input name="name" class="form-control" required>
                            </div>
                            <div class="col-md-6">
                                <label class="form-label small">ุงูู</label>
                                <input name="email" type="email" class="form-control" required>
                            </div>

                            <div class="col-md-6">
                                <label class="form-label small">ุดูุงุฑู ุชูุงุณ</label>
                                <input name="phone" class="form-control" placeholder="ูุซูุงู 09120000000">
                            </div>

                            <div class="col-md-6">
                                <label class="form-label small">ููุน ูพุฑูฺู</label>
                                <select name="type" class="form-select">
                                    <option value="web">ูุจ</option>
                                    <option value="mobile">ููุจุงู</option>
                                    <option value="both">ูุฑ ุฏู</option>
                                </select>

                            </div>
                            <div class="col-12">
                                <label class="form-label small">ุฏุงููู ฺฉุงุฑ</label>
                                <div class="d-flex flex-wrap gap-2">
                                    <label class="form-check">
                                        <input class="form-check-input" type="checkbox" name="scope" value="UI/UX">
                                        <span class="form-check-label small">UI/UX</span>
                                    </label>
                                    <label class="form-check">
                                        <input class="form-check-input" type="checkbox" name="scope" value="Front-end">
                                        <span class="form-check-label small">Front-end</span>
                                    </label>
                                    <label class="form-check">
                                        <input class="form-check-input" type="checkbox" name="scope" value="Back-end">
                                        <span class="form-check-label small">Back-end</span>
                                    </label>
                                    <label class="form-check">
                                        <input class="form-check-input" type="checkbox" name="scope" value="CI/CD">
                                        <span class="form-check-label small">CI/CD</span>
                                    </label>
                                    <label class="form-check">
                                        <input class="form-check-input" type="checkbox" name="scope" value="SEO">
                                        <span class="form-check-label small">SEO</span>
                                    </label>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <label class="form-label small">ููุนุฏ ุชูุฑุจ</label>
                                <input name="deadline" type="date" class="form-control">
                            </div>
                            <div class="col-md-6">
                                <label class="form-label small">ุจูุฏุฌู ุญุฏูุฏ (ุงุฎุชุงุฑ)</label>
                                <input name="budget" class="form-control" placeholder="ูุซูุงู 200 ูููู">
                            </div>
                            <div class="col-12">
                                <label class="form-label small">ุชูุถุญ ูุณุฆูู/ูุฏู</label>
                                <textarea name="message" rows="4" class="form-control" required></textarea>
                            </div>
                            <div class="col-12 d-flex align-items-center gap-2">
                                <input id="nda" type="checkbox" name="nda" class="form-check-input">
                                <label for="nda" class="small m-0">ุฏุฑ ุตูุฑุช ูุงุฒ NDA ุงูุถุง ูโุดูุฏ</label>
                            </div>
                            <div class="col-12">
                                <button class="btn btn-primary rounded-3 px-4">ุงุฑุณุงู ุฏุฑุฎูุงุณุช ูพุฑูฺู</button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>

            <!-- ูุฑู ุงุณุชุฎุฏุงู -->
            <div class="col-lg-6">
                <div class="form-card why-card p-4 rounded-4 shadow-sm bg-white border" id="hire-form">
                    <h3 class="h5 fw-bold mb-3" style="color:#003c70">ุฏุฑุฎูุงุณุช ููฺฉุงุฑ</h3>
                    <form method="post" action="" novalidate>
                        {% csrf_token %}
                        <div class="row g-3">
                            <div class="col-md-6">
                                <label class="form-label small">ูุงู ุดุฑฺฉุช</label>
                                <input name="name" class="form-control" required>
                            </div>
                            <div class="col-md-6">
                                <label class="form-label small">ุงูู</label>
                                <input name="email" type="email" class="form-control" required>
                            </div>
                            <div class="col-md-6">
                                <label class="form-label small">ุดูุงุฑู ุชูุงุณ</label>
                                <input name="phone" class="form-control" placeholder="ูุซูุงู 09120000000">
                            </div>
                            <div class="col-md-6">
                                <label class="form-label small">ููุด/ุนููุงู ููุฑุฏูุธุฑ</label>
                                <input name="role" class="form-control" placeholder="Full-Stack / Android / Django">
                            </div>
                            <div class="col-12">
                                <label class="form-label small">ููุน ููฺฉุงุฑ</label>
                                <select name="mode" class="form-select">
                                    <option value="fulltime">ุชูุงูโููุช</option>
                                    <option value="parttime">ูพุงุฑูโููุช</option>
                                    <option value="contract">ูพุฑูฺูโุง</option>
                                    <option value="remote">ุฏูุฑฺฉุงุฑ</option>
                                </select>

                            </div>
                            <div class="col-12">
                                <label class="form-label small">ููุงุฑุชโูุง ฺฉูุฏ ููุฑุฏ ุงูุชุธุงุฑ</label>
                                <input name="skills" class="form-control"
                                       placeholder="Django, DRF, Android, Bootstrap, Docker">
                            </div>
                            <div class="col-12">
                                <label class="form-label small">ูพุงู/ุชูุถุญุงุช</label>
                                <textarea name="message" rows="4" class="form-control"></textarea>
                            </div>
                            <div class="col-12">
                                <button class="btn btn-outline-primary rounded-3 px-4">ุงุฑุณุงู ุฏุฑุฎูุงุณุช ููฺฉุงุฑ</button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>

        </div>
    </div>
</section>

<script>
    // ุงุณฺฉุฑูู ูุฑู ุจู ูุฑูโูุง (ุฏุฑ ุตูุฑุช ูุจูุฏู scroll-behavior CSS)
    document.querySelectorAll('a[href^="#"]').forEach(a => {
        a.addEventListener("click", (e) => {
            const id = a.getAttribute("href").slice(1);
            const el = document.getElementById(id);
            if (el) {
                e.preventDefault();
                el.scrollIntoView({behavior: "smooth", block: "start"});
            }
        });
    });
</script>

<script>
    document.addEventListener("DOMContentLoaded", () => {
        // ููุฏู ฺฉุฑุฏู ูุฑ ุฏู ูุฑู
        const forms = [
            {id: "project-form", url: "{% url 'collab:project' %}"},
            {id: "hire-form", url: "{% url 'collab:hire' %}"}
        ];

        forms.forEach(({id, url}) => {
            const formCard = document.getElementById(id);
            if (!formCard) return;

            const form = formCard.querySelector("form");
            form.addEventListener("submit", async (e) => {
                e.preventDefault();

                const submitBtn = form.querySelector("button");
                const originalText = submitBtn.innerHTML;
                submitBtn.disabled = true;
                submitBtn.innerHTML = "ุฏุฑ ุญุงู ุงุฑุณุงู...";

                const formData = new FormData(form);

                try {
                    const response = await fetch(url, {
                        method: "POST",
                        headers: {
                            "X-CSRFToken": form.querySelector("[name=csrfmiddlewaretoken]").value,
                        },
                        body: formData,
                    });

                    const result = await response.json();

                    if (result.success) {
                        form.reset();
                        showAlert(formCard, "โ ูุฑู ุจุง ููููุช ุงุฑุณุงู ุดุฏ!", "success");
                    } else {
                        if (result.errors) {
                            const messages = Object.entries(result.errors)
                                .map(([field, msg]) => `๐ธ ${field}: ${msg}`)
                                .join("\n");
                            showAlert(formCard, messages, "danger");
                        } else {
                            showAlert(formCard, "โ ุฎุทุง ุฏุฑ ุงุฑุณุงู ุฏุงุฏูโูุง", "danger");
                        }
                    }

                } catch (error) {
                    showAlert(formCard, "โ ุฎุทุง ุฑุฎ ุฏุงุฏ. ูุทูุงู ุฏูุจุงุฑู ุชูุงุด ฺฉูุฏ.", "danger");
                } finally {
                    submitBtn.disabled = false;
                    submitBtn.innerHTML = originalText;
                }
            });
        });

        // ุชุงุจุน ููุงุด ูพุงู ุจุงูุง ูุฑู
        function showAlert(container, message, type = "info") {
            const alert = document.createElement("div");
            alert.className = `alert alert-${type} mt-3 rounded-3`;
            alert.innerText = message;
            container.appendChild(alert);
            setTimeout(() => alert.remove(), 4000);
        }
    });
</script>

{% endblock %}
