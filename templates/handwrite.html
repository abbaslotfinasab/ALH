{% extends "base.html" %}
{% load static %}

{% block content %}

<section id="handwriting" class="feed-section py-5">
  <div class="container">

    <!-- Ø¹Ù†ÙˆØ§Ù† ØµÙØ­Ù‡ -->
    <div class="text-center mb-5">
      <h2 class="fw-bold section-title mb-3">âœï¸ Ø¯Ø³ØªØ®Ø· Ù…Ù†</h2>
      <p class="section-subtitle text-muted">
        Ø§ÛŒÙ†Ø¬Ø§ ØªÚ©Ù‡â€ŒÚ©Ø¯Ù‡Ø§ÛŒÛŒ Ø§Ø² Ù…Ø³ÛŒØ± ÛŒØ§Ø¯Ú¯ÛŒØ±ÛŒØŒ Ú†Ø§Ù„Ø´â€ŒÙ‡Ø§ Ùˆ ØªØ¬Ø±Ø¨ÛŒØ§Øª Ú©Ø§Ø±ÛŒ Ù…Ù†Ùˆ Ù…ÛŒâ€ŒØ®ÙˆÙ†ÛŒ â€” Ø¬Ø§ÛŒÛŒ Ú©Ù‡ Ú©Ø¯ ÙÙ‚Ø· Ú©Ø§Ø± Ù†Ù…ÛŒâ€ŒÚ©Ù†Ù‡ØŒ <strong>Ø²ÛŒØ¨Ø§</strong> Ù‡Ù… Ù‡Ø³Øª.
      </p>
    </div>

    <!-- Ø¬Ù…Ù„Ù‡ Ø§Ù„Ù‡Ø§Ù…â€ŒØ¨Ø®Ø´ -->
    <blockquote class="blockquote text-center mb-5">
      <p class="fst-italic text-muted border-start border-3 ps-3 d-inline-block">
        "Ú©Ø¯ Ø®ÙˆØ¨ ÙÙ‚Ø· Ù†ØªÛŒØ¬Ù‡â€Œ Ù†ÛŒØ³ØªØŒ Ø¨Ø§Ø²ØªØ§Ø¨Ù Ø·Ø±Ø² ÙÚ©Ø± Ù†ÙˆÛŒØ³Ù†Ø¯Ù‡â€ŒØ³Øª."
      </p>
    </blockquote>

    <!-- ÙÛŒÙ„ØªØ± Ù…ÙˆØ¶ÙˆØ¹ÛŒ -->
    <div class="d-flex flex-wrap justify-content-center gap-2 mb-5">
      <button class="btn btn-sm btn-outline-dark active">Ù‡Ù…Ù‡</button>
      <button class="btn btn-sm btn-outline-dark">Django</button>
      <button class="btn btn-sm btn-outline-dark">Performance</button>
      <button class="btn btn-sm btn-outline-dark">Clean Code</button>
      <button class="btn btn-sm btn-outline-dark">DevOps</button>
    </div>

    <!-- Ú©Ø§Ø±Øªâ€ŒÙ‡Ø§ -->
    <div class="row g-4">
      {% for snippet in snippets %}
      <div class="col-12 col-md-6 col-lg-4">
        <article class="card h-100 border-0 shadow-sm rounded-4 hover-shadow">
          <div class="card-body d-flex flex-column">

            <!-- ØªÚ¯ Ù…ÙˆØ¶ÙˆØ¹ -->
            <span class="badge bg-dark-subtle text-dark mb-2">{{ snippet.category }}</span>

            <!-- Ø¹Ù†ÙˆØ§Ù† -->
            <h5 class="fw-bold mb-2">{{ snippet.title }}</h5>

            <!-- ØªÙˆØ¶ÛŒØ­ Ú©ÙˆØªØ§Ù‡ -->
            <p class="text-muted small mb-3">{{ snippet.short_description }}</p>

            <!-- Ú©Ø¯ Ø®Ù„Ø§ØµÙ‡ -->
            <pre class="bg-light rounded-3 p-3 mb-3"><code class="language-python">{{ snippet.preview_code }}</code></pre>

            <!-- ÙÙˆØªØ± Ú©Ø§Ø±Øª -->
            <div class="mt-auto d-flex justify-content-between align-items-center">
              <a href="#" class="btn btn-sm btn-outline-primary" data-bs-toggle="modal" data-bs-target="#snippetModal{{ snippet.id }}">
                Ø¯ÛŒØ¯Ù† Ú©Ø§Ù…Ù„
              </a>
              <small class="text-muted">{{ snippet.date|date:"Y/m/d" }}</small>
            </div>
          </div>
        </article>
      </div>
      {% endfor %}
    </div>
  </div>

  <!-- Modal Ø¬Ø²Ø¦ÛŒØ§Øª -->
  {% for snippet in snippets %}
  <div class="modal fade" id="snippetModal{{ snippet.id }}" tabindex="-1">
    <div class="modal-dialog modal-lg modal-dialog-centered">
      <div class="modal-content bg-dark text-white border-0 rounded-4">
        <div class="modal-header border-secondary">
          <h5 class="modal-title">{{ snippet.title }}</h5>
          <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
        </div>
        <div class="modal-body">
          <pre><code class="language-python">{{ snippet.full_code }}</code></pre>

          <hr class="border-secondary my-4">

          <h6 class="fw-bold text-info">ğŸ’¡ Ù†Ú©ØªÙ‡ / ØªØ¬Ø±Ø¨Ù‡ Ø´Ø®ØµÛŒ:</h6>
          <p class="small text-light opacity-75 mb-0">
            {{ snippet.lesson }}
          </p>

          {% if snippet.project_name %}
          <div class="mt-3 small text-secondary">
            <i class="bi bi-briefcase me-1"></i>
            Ø§Ø³ØªÙØ§Ø¯Ù‡â€ŒØ´Ø¯Ù‡ Ø¯Ø± Ù¾Ø±ÙˆÚ˜Ù‡: {{ snippet.project_name }}
          </div>
          {% endif %}
        </div>
      </div>
    </div>
  </div>
  {% endfor %}
</section>
{% endblock %}
